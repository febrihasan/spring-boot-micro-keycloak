debug: true

server:
  port: 9092
  servlet:
    context-path: /api

eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:9091/eureka/

# keycloak config set up v10.0.2
keycloak:
  auth-server-url: http://localhost:8080/auth
  realm: blu-micro
  bearer-only: true
  principal-attribute: preferred_username
  ssl-required: none
  use-resource-role-mappings: true
  resource: blu-micro-user
  credentials:
    secret: 9ac51cca-0cb8-4a3c-999e-c53a49af28aa

spring:
  application:
    name: user-service
#  security:
#    oauth2:
#      client:
#        registration:
#          keycloak:
#            provider: keycloak
#            client-id: blu-micro-user
#            client-secret: e5282f33-befc-4058-86c0-d29865025606
#            authorization-grant-type: authorization_code
#            redirect-uri: http://localhost:9092/login/oauth2/code/keycloak
#            scope: openid
#        provider:
#          keycloak:
#            issuerUri: ${keycloak.auth-server-url}/realms/${keycloak.realm}
#            authorizationUri: ${keycloak.auth-server-url}/realms/${keycloak.realm}/protocol/openid-connect/auth
#            tokenUri: ${keycloak.auth-server-url}/realms/${keycloak.realm}/protocol/openid-connect/token
#            user-info-uri: ${keycloak.auth-server-url}/realms/${keycloak.realm}/protocol/openid-connect/userinfo
#            jwk-set-uri: ${keycloak.auth-server-url}/realms/${keycloak.realm}/protocol/openid-connect/certs
#            user-name-attribute: name
#            user-info-authentication-method: header
#      resourceserver:
#        jwt:
#          jwk-set-uri: ${keycloak.auth-server-url}/realms/${keycloak.realm}/protocol/openid-connect/certs

management:
  endpoints:
    web:
      exposure:
        include: '*'